import{_ as t,c as i,o as a,aj as s}from"./chunks/framework.CFe3ezYR.js";const u=JSON.parse('{"title":"Alibaba Cloud Edge Security Acceleration (ESA) Configuration Guide","description":"","frontmatter":{},"headers":[],"relativePath":"en/providers/aliesa.md","filePath":"en/providers/aliesa.md","lastUpdated":1768296921000}'),n={name:"en/providers/aliesa.md"};function l(r,e,o,d,h,c){return a(),i("div",null,[...e[0]||(e[0]=[s(`<h1 id="alibaba-cloud-edge-security-acceleration-esa-configuration-guide" tabindex="-1">Alibaba Cloud Edge Security Acceleration (ESA) Configuration Guide <a class="header-anchor" href="#alibaba-cloud-edge-security-acceleration-esa-configuration-guide" aria-label="Permalink to “Alibaba Cloud Edge Security Acceleration (ESA) Configuration Guide”">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to “Overview”">​</a></h2><p>Alibaba Cloud Edge Security Acceleration (ESA) is an edge security acceleration service provided by Alibaba Cloud, supporting dynamic management of DNS records. This DDNS project uses AccessKey ID and AccessKey Secret to update ESA DNS records.</p><p>Official Links:</p><ul><li>Official Website: <a href="https://www.alibabacloud.com/product/esa" target="_blank" rel="noreferrer">https://www.alibabacloud.com/product/esa</a></li><li>Service Console: <a href="https://esa.console.aliyun.com/" target="_blank" rel="noreferrer">https://esa.console.aliyun.com/</a></li><li>Free Trial Registration: <a href="https://tianchi.aliyun.com/specials/promotion/freetier/esa?taskCode=25254&amp;recordId=21a3141c2fca892c81ed9490eb6fd677" target="_blank" rel="noreferrer">https://tianchi.aliyun.com/specials/promotion/freetier/esa?taskCode=25254&amp;recordId=21a3141c2fca892c81ed9490eb6fd677</a></li></ul><h2 id="authentication-information" tabindex="-1">Authentication Information <a class="header-anchor" href="#authentication-information" aria-label="Permalink to “Authentication Information”">​</a></h2><h3 id="accesskey-authentication-recommended" tabindex="-1">AccessKey Authentication (Recommended) <a class="header-anchor" href="#accesskey-authentication-recommended" aria-label="Permalink to “AccessKey Authentication (Recommended)”">​</a></h3><p>Use Alibaba Cloud AccessKey ID and AccessKey Secret for authentication.</p><h4 id="obtaining-authentication-information" tabindex="-1">Obtaining Authentication Information <a class="header-anchor" href="#obtaining-authentication-information" aria-label="Permalink to “Obtaining Authentication Information”">​</a></h4><ol><li>Login to <a href="https://console.aliyun.com/" target="_blank" rel="noreferrer">Alibaba Cloud Console</a></li><li>Navigate to &quot;Resource Access Management (RAM)&quot; &gt; &quot;Users&quot;</li><li>Create or view AccessKey in user details page</li><li>Copy the generated <strong>AccessKey ID</strong> and <strong>AccessKey Secret</strong>, please keep them safe</li><li>Ensure the account has Edge Security Acceleration (<code>AliyunESAFullAccess</code>) permissions</li></ol><div class="language-jsonc line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;dns&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aliesa&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your_access_key_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AccessKey ID</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your_access_key_secret&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // AccessKey Secret</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="permission-requirements" tabindex="-1">Permission Requirements <a class="header-anchor" href="#permission-requirements" aria-label="Permalink to “Permission Requirements”">​</a></h2><p>Ensure the Alibaba Cloud account has the following permissions:</p><ul><li><strong>AliyunESAFullAccess</strong>: Full access to Edge Security Acceleration (Recommended)</li><li><strong>ESA Site Query Permission + ESA DNS Record Management Permission</strong>: Fine-grained permission control</li></ul><p>You can view and configure permissions in the <a href="https://ram.console.aliyun.com/" target="_blank" rel="noreferrer">RAM Console</a>.</p><h2 id="complete-configuration-example" tabindex="-1">Complete Configuration Example <a class="header-anchor" href="#complete-configuration-example" aria-label="Permalink to “Complete Configuration Example”">​</a></h2><div class="language-jsonc line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;$schema&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://ddns.newfuture.cc/schema/v4.0.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Format validation</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;dns&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aliesa&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Current provider</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your_access_key_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AccessKey ID</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your_access_key_secret&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AccessKey Secret</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;index4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;url:http://api.ipify.cn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;public&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// IPv4 address source</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;index6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;public&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// IPv6 address source</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ipv4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ddns.newfuture.cc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// IPv4 domains</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ipv6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ddns.newfuture.cc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ipv6.ddns.newfuture.cc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// IPv6 domains</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;endpoint&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esa.cn-hangzhou.aliyuncs.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// API endpoint</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ttl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">600</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                                 // DNS record TTL (seconds)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="parameter-description" tabindex="-1">Parameter Description <a class="header-anchor" href="#parameter-description" aria-label="Permalink to “Parameter Description”">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:center;">Parameter</th><th style="text-align:left;">Description</th><th style="text-align:left;">Type</th><th style="text-align:left;">Range/Options</th><th style="text-align:left;">Default</th><th style="text-align:left;">Parameter Type</th></tr></thead><tbody><tr><td style="text-align:center;">dns</td><td style="text-align:left;">Provider identifier</td><td style="text-align:left;">String</td><td style="text-align:left;"><code>aliesa</code></td><td style="text-align:left;">None</td><td style="text-align:left;">Provider Parameter</td></tr><tr><td style="text-align:center;">id</td><td style="text-align:left;">Authentication ID</td><td style="text-align:left;">String</td><td style="text-align:left;">Alibaba Cloud AccessKey ID</td><td style="text-align:left;">None</td><td style="text-align:left;">Provider Parameter</td></tr><tr><td style="text-align:center;">token</td><td style="text-align:left;">Authentication key</td><td style="text-align:left;">String</td><td style="text-align:left;">Alibaba Cloud AccessKey Secret</td><td style="text-align:left;">None</td><td style="text-align:left;">Provider Parameter</td></tr><tr><td style="text-align:center;">index4</td><td style="text-align:left;">IPv4 source</td><td style="text-align:left;">Array</td><td style="text-align:left;"><a href="./../config/json#ipv4-ipv6">Reference</a></td><td style="text-align:left;"><code>default</code></td><td style="text-align:left;">Common Config</td></tr><tr><td style="text-align:center;">index6</td><td style="text-align:left;">IPv6 source</td><td style="text-align:left;">Array</td><td style="text-align:left;"><a href="./../config/json#ipv4-ipv6">Reference</a></td><td style="text-align:left;"><code>default</code></td><td style="text-align:left;">Common Config</td></tr><tr><td style="text-align:center;">ipv4</td><td style="text-align:left;">IPv4 domains</td><td style="text-align:left;">Array</td><td style="text-align:left;">Domain list</td><td style="text-align:left;">None</td><td style="text-align:left;">Common Config</td></tr><tr><td style="text-align:center;">ipv6</td><td style="text-align:left;">IPv6 domains</td><td style="text-align:left;">Array</td><td style="text-align:left;">Domain list</td><td style="text-align:left;">None</td><td style="text-align:left;">Common Config</td></tr><tr><td style="text-align:center;">endpoint</td><td style="text-align:left;">API endpoint</td><td style="text-align:left;">URL</td><td style="text-align:left;"><a href="#endpoint">See below</a></td><td style="text-align:left;"><code>https://esa.cn-hangzhou.aliyuncs.com</code></td><td style="text-align:left;">Provider Parameter</td></tr><tr><td style="text-align:center;">ttl</td><td style="text-align:left;">TTL time</td><td style="text-align:left;">Integer (seconds)</td><td style="text-align:left;">1-86400</td><td style="text-align:left;">None</td><td style="text-align:left;">Provider Parameter</td></tr><tr><td style="text-align:center;">proxy</td><td style="text-align:left;">Proxy settings</td><td style="text-align:left;">Array</td><td style="text-align:left;"><a href="./../config/json#proxy">Reference</a></td><td style="text-align:left;">None</td><td style="text-align:left;">Common Network</td></tr><tr><td style="text-align:center;">ssl</td><td style="text-align:left;">SSL verification</td><td style="text-align:left;">Boolean/String</td><td style="text-align:left;"><code>auto</code>, <code>true</code>, <code>false</code></td><td style="text-align:left;"><code>auto</code></td><td style="text-align:left;">Common Network</td></tr><tr><td style="text-align:center;">cache</td><td style="text-align:left;">Cache settings</td><td style="text-align:left;">Boolean/String</td><td style="text-align:left;"><code>true</code>, <code>false</code>, <code>filepath</code></td><td style="text-align:left;"><code>true</code></td><td style="text-align:left;">Common Config</td></tr><tr><td style="text-align:center;">log</td><td style="text-align:left;">Log configuration</td><td style="text-align:left;">Object</td><td style="text-align:left;"><a href="./../config/json#log">Reference</a></td><td style="text-align:left;">None</td><td style="text-align:left;">Common Config</td></tr></tbody></table><blockquote><p><strong>Parameter Type Description</strong>:</p><ul><li><strong>Common Config</strong>: Standard DNS configuration parameters applicable to all supported DNS providers</li><li><strong>Common Network</strong>: Network setting parameters applicable to all supported DNS providers</li><li><strong>Provider Parameter</strong>: Supported by current provider, values related to current provider</li></ul></blockquote><h3 id="endpoint" tabindex="-1">endpoint <a class="header-anchor" href="#endpoint" aria-label="Permalink to “endpoint”">​</a></h3><p>Alibaba Cloud ESA supports multiple regional endpoints, you can choose the optimal node based on region and network environment:</p><h4 id="china-mainland-nodes" tabindex="-1">China Mainland Nodes <a class="header-anchor" href="#china-mainland-nodes" aria-label="Permalink to “China Mainland Nodes”">​</a></h4><ul><li><strong>East China (Hangzhou)</strong>: <code>https://esa.cn-hangzhou.aliyuncs.com</code> (Default)</li></ul><h4 id="international-nodes" tabindex="-1">International Nodes <a class="header-anchor" href="#international-nodes" aria-label="Permalink to “International Nodes”">​</a></h4><ul><li><strong>Asia Pacific Southeast 1 (Singapore)</strong>: <code>https://esa.ap-southeast-1.aliyuncs.com</code></li></ul><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to “Troubleshooting”">​</a></h2><h3 id="debug-mode" tabindex="-1">Debug Mode <a class="header-anchor" href="#debug-mode" aria-label="Permalink to “Debug Mode”">​</a></h3><p>Enable debug logging to view detailed information:</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ddns</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --debug</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="common-issues" tabindex="-1">Common Issues <a class="header-anchor" href="#common-issues" aria-label="Permalink to “Common Issues”">​</a></h3><h4 id="site-not-found-for-domain" tabindex="-1">&quot;Site not found for domain&quot; <a class="header-anchor" href="#site-not-found-for-domain" aria-label="Permalink to “&quot;Site not found for domain&quot;”">​</a></h4><ul><li>Check if the domain has been added to the ESA service</li><li>Confirm the domain format is correct (without protocol prefix)</li><li>Verify AccessKey permissions</li></ul><h4 id="failed-to-create-update-record" tabindex="-1">&quot;Failed to create/update record&quot; <a class="header-anchor" href="#failed-to-create-update-record" aria-label="Permalink to “&quot;Failed to create/update record&quot;”">​</a></h4><ul><li>Check if the DNS record type is supported</li><li>Confirm the record value format is correct</li><li>Verify the TTL value is within the allowed range</li></ul><h4 id="api-call-failed" tabindex="-1">&quot;API call failed&quot; <a class="header-anchor" href="#api-call-failed" aria-label="Permalink to “&quot;API call failed&quot;”">​</a></h4><ul><li>Check if AccessKey ID and Secret are correct</li><li>Confirm network connectivity is normal</li><li>View detailed error logs</li></ul><h2 id="support-and-resources" tabindex="-1">Support and Resources <a class="header-anchor" href="#support-and-resources" aria-label="Permalink to “Support and Resources”">​</a></h2><ul><li><a href="https://www.alibabacloud.com/help/en/esa" target="_blank" rel="noreferrer">Alibaba Cloud ESA Product Documentation</a></li><li><a href="https://esa.console.aliyun.com/" target="_blank" rel="noreferrer">Alibaba Cloud ESA Console</a></li><li><a href="https://www.alibabacloud.com/support" target="_blank" rel="noreferrer">Alibaba Cloud Technical Support</a></li><li><a href="https://github.com/NewFuture/DDNS/issues" target="_blank" rel="noreferrer">GitHub Issues</a></li></ul><blockquote><p><strong>Recommendation</strong>: Use RAM sub-accounts and regularly rotate AccessKeys to improve account security.</p></blockquote>`,40)])])}const g=t(n,[["render",l]]);export{u as __pageData,g as default};
