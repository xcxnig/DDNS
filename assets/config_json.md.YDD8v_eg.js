import{_ as i,c as t,o as a,aj as n}from"./chunks/framework.CFe3ezYR.js";const c=JSON.parse('{"title":"DDNS JSON配置文件参考","description":"了解DDNS工具的JSON配置文件格式和参数，如何使用配置文件以及配置文件的优先级","frontmatter":{"title":"DDNS JSON配置文件参考","description":"了解DDNS工具的JSON配置文件格式和参数，如何使用配置文件以及配置文件的优先级"},"headers":[],"relativePath":"config/json.md","filePath":"config/json.md","lastUpdated":1768233632000}'),e={name:"config/json.md"};function l(h,s,p,d,r,k){return a(),t("div",null,[...s[0]||(s[0]=[n(`<p>本文档详细说明DDNS工具的JSON配置文件格式和参数。JSON配置文件优先级介于命令行参数和环境变量之间。</p><h2 id="基本用法" tabindex="-1">基本用法 <a class="header-anchor" href="#基本用法" aria-label="Permalink to “基本用法”">​</a></h2><p>默认情况下，DDNS会在当前目录查找<code>config.json</code>文件。您也可以使用<code>-c</code>参数指定配置文件路径：</p><ul><li>当前目录 <code>config.json</code> (注意Docker运行目录是 <code>/ddns/</code>)</li><li>当前用户目录 <code>~/.ddns/config.json</code></li><li>Linux当前系统 <code>/etc/ddns/config.json</code></li></ul><blockquote><p>注意：在Docker中使用配置文件时，需要通过卷映射将配置文件挂载到容器的<code>/ddns/</code>目录。详情请参考<a href="./../docker">Docker使用文档</a>。</p></blockquote><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成配置文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ddns</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --new-config</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 指定参数和配置文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ddns</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dns</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dnspod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ipv4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ddns.newfuture.cc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --new-config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config.json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用指定配置文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ddns</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/config.json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者使用Python源码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ddns</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/config.json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用多个配置文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ddns</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cloudflare.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dnspod.json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或通过环境变量</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DDNS_CONFIG</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cloudflare.json,dnspod.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ddns</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="json模式" tabindex="-1">JSON模式 <a class="header-anchor" href="#json模式" aria-label="Permalink to “JSON模式”">​</a></h2><p>DDNS配置文件遵循JSON模式(Schema)，推荐在配置文件中添加<code>$schema</code>字段以获得编辑器的自动补全和验证功能：</p><p>自v4.1.0版本开始，配置文件支持单行注释。</p><div class="language-jsonc line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;$schema&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://ddns.newfuture.cc/schema/v4.0.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="schema" tabindex="-1">Schema <a class="header-anchor" href="#schema" aria-label="Permalink to “Schema”">​</a></h2><p>配置参数表</p><table tabindex="0"><thead><tr><th style="text-align:center;">键名</th><th style="text-align:center;">类型</th><th style="text-align:center;">必需</th><th style="text-align:center;">默认值</th><th style="text-align:center;">参数说明</th><th>备注</th></tr></thead><tbody><tr><td style="text-align:center;">dns</td><td style="text-align:center;">string</td><td style="text-align:center;">否</td><td style="text-align:center;">无</td><td style="text-align:center;">DNS服务商</td><td>可选值: 51dns, alidns, aliesa, callback, cloudflare, debug, dnscom, dnspod_com, dnspod, edgeone, he, huaweidns, namesilo, noip, tencentcloud</td></tr><tr><td style="text-align:center;">id</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">无</td><td style="text-align:center;">API 访问 ID</td><td>请根据服务商说明配置(如 AccessKeyID)</td></tr><tr><td style="text-align:center;">token</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">无</td><td style="text-align:center;">API 授权令牌</td><td>请根据服务商说明配置(如 AccessSecret)</td></tr><tr><td style="text-align:center;">endpoint</td><td style="text-align:center;">string</td><td style="text-align:center;">否</td><td style="text-align:center;">无</td><td style="text-align:center;">API端点URL</td><td>用于自定义或私有部署的API地址，为空时使用默认端点</td></tr><tr><td style="text-align:center;">ipv4</td><td style="text-align:center;">array</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>[]</code></td><td style="text-align:center;">IPv4域名列表</td><td></td></tr><tr><td style="text-align:center;">ipv6</td><td style="text-align:center;">array</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>[]</code></td><td style="text-align:center;">IPv6域名列表</td><td></td></tr><tr><td style="text-align:center;">index4</td><td style="text-align:center;">string|int|array</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>[&quot;default&quot;]</code></td><td style="text-align:center;">IPv4获取方式</td><td><a href="#index4-index6">详见下方说明</a></td></tr><tr><td style="text-align:center;">index6</td><td style="text-align:center;">string|int|array</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>[&quot;default&quot;]</code></td><td style="text-align:center;">IPv6获取方式</td><td><a href="#index4-index6">详见下方说明</a></td></tr><tr><td style="text-align:center;">ttl</td><td style="text-align:center;">number</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>null</code></td><td style="text-align:center;">DNS TTL时间</td><td>单位为秒，不设置则采用DNS默认策略</td></tr><tr><td style="text-align:center;">line</td><td style="text-align:center;">string</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>null</code></td><td style="text-align:center;">DNS解析线路</td><td>ISP线路选择，支持的值视DNS服务商而定</td></tr><tr><td style="text-align:center;">proxy</td><td style="text-align:center;">string|array</td><td style="text-align:center;">否</td><td style="text-align:center;">无</td><td style="text-align:center;">HTTP代理</td><td>多代理逐个尝试直到成功，支持<code>DIRECT</code>(直连)、<code>SYSTEM</code>(系统代理)</td></tr><tr><td style="text-align:center;">ssl</td><td style="text-align:center;">string|boolean</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>&quot;auto&quot;</code></td><td style="text-align:center;">SSL验证方式</td><td><code>true</code>（强制验证）、<code>false</code>（禁用验证）、<code>&quot;auto&quot;</code>（自动降级）或自定义CA证书文件路径</td></tr><tr><td style="text-align:center;">cache</td><td style="text-align:center;">string|bool</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>true</code></td><td style="text-align:center;">是否缓存记录</td><td>正常情况打开避免频繁更新，默认位置为临时目录下<code>ddns.{hash}.cache</code>，也可以指定具体路径</td></tr><tr><td style="text-align:center;">log</td><td style="text-align:center;">object</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>null</code></td><td style="text-align:center;">日志配置</td><td>日志配置对象，支持<code>level</code>、<code>file</code>、<code>format</code>、<code>datefmt</code>参数</td></tr></tbody></table><h3 id="dns" tabindex="-1">dns <a class="header-anchor" href="#dns" aria-label="Permalink to “dns”">​</a></h3><p><code>dns</code>参数指定使用的DNS服务商标识，支持以下值, 请参考 <a href="./../providers/">服务商列表</a>:</p><blockquote><p>当 debug 模式，且未配置dns参数时,使用 debug provider。</p></blockquote><h3 id="id-token" tabindex="-1">id-token <a class="header-anchor" href="#id-token" aria-label="Permalink to “id-token”">​</a></h3><p><code>id</code>和<code>token</code>参数用于API认证，具体含义和格式取决于所选的DNS服务商。</p><h3 id="endpoint" tabindex="-1">endpoint <a class="header-anchor" href="#endpoint" aria-label="Permalink to “endpoint”">​</a></h3><p><code>endpoint</code>参数用于指定自定义API端点，大多数服务商都有默认端点，除非有特殊需求，否则不需要修改。</p><p>特殊情况包括：</p><ul><li>不同区域部署的服务商（如腾讯云、阿里云等）需要指定对应区域的API端点。</li><li><strong>私有云部署</strong>：如果您使用的是私有部署的DNS服务，需要指定相应的私有API端点地址。</li><li><strong>代理转发</strong>：如果您使用第三方API代理服务，需要指定代理的URL。</li></ul><h3 id="ipv4-ipv6" tabindex="-1">ipv4-ipv6 <a class="header-anchor" href="#ipv4-ipv6" aria-label="Permalink to “ipv4-ipv6”">​</a></h3><p><code>ipv4</code>和<code>ipv6</code>参数指定需要更新的DNS记录名称，可以是域名或子域名列表。可以使用数组形式指定多个记录。</p><p>支持格式</p><ul><li>无值时，表示不更新对应类型的DNS记录。</li><li><strong>单个域名</strong>：<code>&quot;ddns.newfuture.cc&quot;</code></li><li><strong>多个域名</strong>：<code>[&quot;ddns.newfuture.cc&quot;, &quot;ipv6.ddns.newfuture.cc&quot;]</code></li></ul><h3 id="index4-index6" tabindex="-1">index4-index6 <a class="header-anchor" href="#index4-index6" aria-label="Permalink to “index4-index6”">​</a></h3><p><code>index4</code>和<code>index6</code>参数用于指定获取IP地址的方式，可以使用以下值：</p><p>支持类型:</p><ul><li><code>false</code>表示禁止更新相应IP类型的DNS记录</li><li><strong>数字</strong>（如<code>0</code>、<code>1</code>、<code>2</code>...）：表示使用第N个网卡的IP地址</li><li><code>&quot;default&quot;</code>：系统访问外网的默认IP</li><li><code>&quot;public&quot;</code>：使用公网IP（通过API查询）</li><li><code>&quot;url:http...&quot;</code>：通过指定URL获取IP，例如<code>&quot;url:http://ip.sb&quot;</code></li><li><code>&quot;regex:xxx&quot;</code>：使用正则表达式匹配本地网络配置中的IP，例如<code>&quot;regex:192\\\\.168\\\\..*&quot;</code><ul><li>注意：JSON中反斜杠需要转义，如<code>&quot;regex:10\\\\.00\\\\..*&quot;</code>表示匹配<code>10.00.</code>开头的IP</li></ul></li><li><code>&quot;cmd:xxx&quot;</code>：执行指定命令并使用其输出作为IP</li><li><code>&quot;shell:xxx&quot;</code>：使用系统shell运行命令并使用其输出作为IP</li></ul><p>配置示例：</p><div class="language-jsonc line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;index4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;public&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;url:http://ipv4.icanhazip.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 优先使用公网IP，失败后使用指定URL获取</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;index6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;shell:ip route&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;regex:2003:.*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 使用shell命令,失败换成正则匹配IPv6地址</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;index4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;public&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 使用第一个网卡IP,失败换成公网IP</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;index6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;public&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 使用公网IPv6地址</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;index4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 禁止更新IPv4记录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="ttl" tabindex="-1">ttl <a class="header-anchor" href="#ttl" aria-label="Permalink to “ttl”">​</a></h3><p><code>ttl</code>参数指定DNS记录的生存时间（TTL），单位为秒。默认值为<code>null</code>，表示使用DNS服务商的默认TTL策略。 具体取值范围和默认值取决于所选的DNS服务商。</p><h3 id="line" tabindex="-1">line <a class="header-anchor" href="#line" aria-label="Permalink to “line”">​</a></h3><p><code>line</code>参数用于指定DNS解析线路，支持的值取决于所选的DNS服务商。</p><h3 id="proxy" tabindex="-1">proxy <a class="header-anchor" href="#proxy" aria-label="Permalink to “proxy”">​</a></h3><p><code>proxy</code>参数用于设置HTTP代理，可以是单个代理地址或多个代理地址的数组。支持以下格式：</p><p>代理类型:</p><ul><li><strong>具体代理</strong>: <code>&quot;http://&lt;proxy_host&gt;:&lt;proxy_port&gt;&quot;</code> 或 <code>&quot;https://&lt;proxy_host&gt;:&lt;proxy_port&gt;&quot;</code></li><li><strong>直连</strong>: <code>&quot;DIRECT&quot;</code> - 强制不使用代理，忽略系统代理设置</li><li><strong>系统代理</strong>: <code>&quot;SYSTEM&quot;</code> - 使用系统默认代理设置（如IE代理、环境变量等）</li><li><strong>自动</strong>: <code>null</code> 或不设置 - 使用系统默认代理设置</li></ul><p>配置示例</p><div class="language-jsonc line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;proxy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://127.0.0.1:1080&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 单个代理地址</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;proxy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SYSTEM&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                                   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 使用系统代理设置</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;proxy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DIRECT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                                   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 强制直连，不使用代理</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;proxy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://127.0.0.1:1080&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DIRECT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 先尝试代理，失败后直连</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;proxy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SYSTEM&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://backup:8080&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DIRECT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 系统代理→备用代理→直连</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;proxy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                                        // 使用系统默认代理设置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>注意：如果配置了<code>proxy</code>，代理只对provider请求有效，获取IP的API不会使用proxy参数。</p></blockquote><h3 id="ssl" tabindex="-1">ssl <a class="header-anchor" href="#ssl" aria-label="Permalink to “ssl”">​</a></h3><p><code>ssl</code>参数用于配置SSL验证方式，支持以下值：</p><ul><li><code>&quot;auto&quot;</code>：自动降级到不验证SSL证书（不太安全）</li><li><code>true</code>：强制验证SSL证书</li><li><code>false</code>：禁用SSL验证 (不安全)</li><li><code>&quot;/path/to/ca.crt&quot;</code>，用于指定自定义的CA证书文件</li></ul><blockquote><p>注意：如果配置了<code>ssl</code>，则所有API请求，包括 provider 和 IP 获取 API 都会使用该配置。</p></blockquote><h3 id="cache" tabindex="-1">cache <a class="header-anchor" href="#cache" aria-label="Permalink to “cache”">​</a></h3><p><code>cache</code>参数用于配置DNS记录的缓存方式，支持以下值：</p><ul><li><code>true</code>：启用缓存，默认位置为临时目录下的<code>ddns.{hash}.cache</code></li><li><code>false</code>：禁用缓存</li><li><code>&quot;/path/to/cache.file&quot;</code>：指定自定义缓存文件路径</li></ul><h3 id="log" tabindex="-1">log <a class="header-anchor" href="#log" aria-label="Permalink to “log”">​</a></h3><p><code>log</code>参数用于配置日志记录，是一个对象，支持以下字段：</p><table tabindex="0"><thead><tr><th style="text-align:center;">键名</th><th style="text-align:center;">类型</th><th style="text-align:center;">必需</th><th style="text-align:center;">默认值</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">level</td><td style="text-align:center;">string</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>INFO</code></td><td style="text-align:center;">日志级别</td></tr><tr><td style="text-align:center;">file</td><td style="text-align:center;">string</td><td style="text-align:center;">否</td><td style="text-align:center;">无</td><td style="text-align:center;">日志文件路径</td></tr><tr><td style="text-align:center;">format</td><td style="text-align:center;">string</td><td style="text-align:center;">否</td><td style="text-align:center;">自动调整</td><td style="text-align:center;">日志格式字符串</td></tr><tr><td style="text-align:center;">datefmt</td><td style="text-align:center;">string</td><td style="text-align:center;">否</td><td style="text-align:center;"><code>%Y-%m-%dT%H:%M:%S</code></td><td style="text-align:center;">日期时间格式</td></tr></tbody></table><h2 id="配置示例" tabindex="-1">配置示例 <a class="header-anchor" href="#配置示例" aria-label="Permalink to “配置示例”">​</a></h2><h3 id="单provider格式" tabindex="-1">单Provider格式 <a class="header-anchor" href="#单provider格式" aria-label="Permalink to “单Provider格式”">​</a></h3><div class="language-jsonc line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;$schema&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://ddns.newfuture.cc/schema/v4.0.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;12345&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mytokenkey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dns&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cloudflare&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ipv4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ddns.newfuture.cc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ipv6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ddns.newfuture.cc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ipv6.ddns.newfuture.cc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;index4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;public&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;regex:192</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.168</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">..*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;index6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;public&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ttl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;proxy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://127.0.0.1:1080&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DIRECT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ssl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;auto&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;cache&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/var/cache/ddns.cache&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;level&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DEBUG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/var/log/ddns.log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;datefmt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="多provider格式" tabindex="-1">多Provider格式 <a class="header-anchor" href="#多provider格式" aria-label="Permalink to “多Provider格式”">​</a></h3><p>从v4.1.0版本开始，支持在单个配置文件中定义多个DNS Provider，使用新的 <code>providers</code> 数组格式：</p><div class="language-jsonc line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;$schema&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://ddns.newfuture.cc/schema/v4.1.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ssl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;auto&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;cache&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;level&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;INFO&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/var/log/ddns.log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;providers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;provider&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cloudflare&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user1@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cloudflare-token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;ipv4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test1.example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;ttl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;provider&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dnspod&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user2@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dnspod-token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;ipv4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test2.example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;ttl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">600</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="v4-1格式特性" tabindex="-1">v4.1格式特性 <a class="header-anchor" href="#v4-1格式特性" aria-label="Permalink to “v4.1格式特性”">​</a></h4><ul><li><strong>全局配置继承</strong>: <code>providers</code> 外的所有配置项（如 <code>ssl</code>, <code>cache</code>, <code>log</code> 等）作为全局设置，会被所有provider继承</li><li><strong>provider覆盖</strong>: 每个provider内的配置可以覆盖相应的全局设置</li><li><strong>provider字段</strong>: 必须字段，指定DNS服务商类型（等同于传统格式中的 <code>dns</code> 字段）</li><li><strong>完整兼容</strong>: 支持所有传统格式中的配置参数</li><li><strong>嵌套对象扁平化</strong>: provider内的嵌套对象会被自动扁平化处理</li></ul><h4 id="冲突检查" tabindex="-1">冲突检查 <a class="header-anchor" href="#冲突检查" aria-label="Permalink to “冲突检查”">​</a></h4><ul><li><code>providers</code> 和 <code>dns</code> 字段不能同时存在</li><li>多providers时，不能在全局配置中使用 <code>ipv4</code> 或 <code>ipv6</code> 字段 <ul><li>每个provider必须包含 <code>provider</code> 字段</li><li>外层(global)不得包含 <code>ipv4</code>或者 <code>ipv6</code> 字段</li></ul></li></ul><h2 id="配置优先级和字段覆盖关系" tabindex="-1">配置优先级和字段覆盖关系 <a class="header-anchor" href="#配置优先级和字段覆盖关系" aria-label="Permalink to “配置优先级和字段覆盖关系”">​</a></h2><p>DDNS工具中的配置优先级顺序为：<strong>命令行参数 &gt; JSON配置文件 &gt; 环境变量</strong>。</p><ul><li><strong>命令行参数</strong>：优先级最高，会覆盖JSON配置文件和环境变量中的相同设置</li><li><strong>JSON配置文件</strong>：介于命令行参数和环境变量之间，会覆盖环境变量中的设置</li><li><strong>环境变量</strong>：优先级最低，当命令行参数和JSON配置文件中都没有相应设置时使用</li></ul><h3 id="配置覆盖示例" tabindex="-1">配置覆盖示例 <a class="header-anchor" href="#配置覆盖示例" aria-label="Permalink to “配置覆盖示例”">​</a></h3><p>假设有以下配置：</p><ol><li><strong>环境变量</strong>：<code>DDNS_TTL=600</code></li><li><strong>JSON配置文件</strong>：<code>&quot;ttl&quot;: 300</code></li><li><strong>命令行参数</strong>：<code>--ttl 900</code></li></ol><p>最终生效的是命令行参数的值：<code>ttl=900</code></p><p>如果没有提供命令行参数，则使用JSON配置值：<code>ttl=300</code></p><h3 id="特殊情况" tabindex="-1">特殊情况 <a class="header-anchor" href="#特殊情况" aria-label="Permalink to “特殊情况”">​</a></h3><ul><li>当JSON配置文件中某个值明确设为<code>null</code>时，将覆盖环境变量设置，相当于未设置该值</li><li>当JSON配置文件中缺少某个键时，会尝试使用对应的环境变量</li><li>某些参数（如<code>debug</code>）仅在特定配置方式下有效：<code>debug</code>参数只在命令行中有效，JSON配置中的设置会被忽略</li></ul><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to “注意事项”">​</a></h2><ol><li>配置文件使用UTF-8编码，不包含BOM标记</li><li>JSON中所有键名区分大小写</li><li>在配置文件中，对于需要使用反斜杠的字符串（如正则表达式），需要进行双重转义</li><li><code>debug</code>参数在配置文件中设置无效，仅支持命令行参数<code>--debug</code></li><li>首次运行时会在当前目录自动生成一个模板配置文件</li><li>推荐使用支持JSONSchema的编辑器（如VSCode）编辑配置文件，可获得自动补全和验证功能</li></ol>`,75)])])}const g=i(e,[["render",l]]);export{c as __pageData,g as default};
